<!DOCTYPE html>
<html lang="en">
    <%- include("../../partials/head.ejs")  %>
<body class="dashboard">
    <%- include('../../partials/manage-event-sidebar.ejs')  %>
      <main>
        <div class="container-fluid">
            <div class="row m-sm-2 m-lg-4">
                
                <!-- FORMS -->
                <div class="col-12 me-0">
                    <h3 class="mb-3">Update Event</h3>
                    <div class="progress" style="background-color: #ff169232;border-radius: 2px !important;">
                        <div aria-valuemax="100" aria-valuemin="0" aria-valuenow="50" class="progress-bar progress-bar-striped progress-bar-animated bg-brand" role="progressbar" style="width: 0%"></div>
                    </div>
                    <p class="text-center my-2 pb-0" id="stepNumber">Step 1 of 6</p>
                    <div id="qbox-container" class="w-100 mt-4">
                        <form class="needs-validation" id="form-wrapper" method="post" name="form-wrapper" novalidate="">
                            <div id="steps-container">
                                <!-- <div class="step w-100">
                                    <h4>Create Event</h4>
                                    <h6>Add an image as a thumbnail</h6>
                                    <div class="form-check ps-0 q-box">
                                        
                                        <div class="q-box__question">
                                            <input checked class="form-check-input question__input" id="q_1_no" name="q_1" type="radio" value="No"> 
                                            <label class="form-check-label question__label" for="q_1_no">No</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="step">
                                    <h4>Are you experiencing a high fever, dry cough, tiredness and loss of taste or smell?</h4>
                                    <div class="form-check ps-0 q-box">
                                        <div class="q-box__question">
                                            <input class="form-check-input question__input" id="q_2_yes" name="q_2" type="radio" value="Yes"> 
                                            <label class="form-check-label question__label" for="q_2_yes">Yes</label>
                                        </div>
                                        <div class="q-box__question">
                                            <input checked class="form-check-input question__input" id="q_2_no" name="q_2" type="radio" value="No"> 
                                            <label class="form-check-label question__label" for="q_2_no">No</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="step">
                                    <h4>Are you having diarrhoea, stomach pain, conjunctivitis, vomiting and headache?</h4>
                                    <div class="form-check ps-0 q-box">
                                        <div class="q-box__question">
                                            <input class="form-check-input question__input" id="q_3_yes" name="q_3" type="radio" value="Yes"> 
                                            <label class="form-check-label question__label" for="q_3_yes">Yes</label>
                                        </div>
                                        <div class="q-box__question">
                                            <input checked class="form-check-input question__input" id="q_3_no" name="q_3" type="radio" value="No"> 
                                            <label class="form-check-label question__label" for="q_3_no">No</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="step">
                                    <h4>Have you traveled to any of these countries with the highest number of COVID-19 cases in the world for the past 2 weeks?</h4>
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-check ps-0 q-box">
                                                <div class="q-box__question">
                                                    <input class="form-check-input question__input q-checkbox" id="q_4_uk" name="q_4" type="checkbox" value="uk"> 
                                                    <label class="form-check-label question__label" for="q_4_uk">UK</label>
                                                </div>
                                            </div>
                                            <div class="form-check ps-0 q-box">
                                                <div class="q-box__question">
                                                    <input class="form-check-input question__input" id="q_4_us" name="q_4" type="checkbox" value="us"> 
                                                    <label class="form-check-label question__label" for="q_4_us">US</label>
                                                </div>
                                            </div>
                                            <div class="form-check ps-0 q-box">
                                                <div class="q-box__question">
                                                    <input class="form-check-input question__input" id="q_4_br" name="q_3" type="checkbox" value="br"> 
                                                    <label class="form-check-label question__label" for="q_4_br">Brazil</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-check ps-0 q-box">
                                                <div class="q-box__question">
                                                    <input class="form-check-input question__input" id="q_4_de" name="q_4" type="checkbox" value="de"> 
                                                    <label class="form-check-label question__label" for="q_4_de">Germany</label>
                                                </div>
                                            </div>
                                            <div class="form-check ps-0 q-box">
                                                <div class="q-box__question">
                                                    <input class="form-check-input question__input" id="q_4_in" name="q_4" type="checkbox" value="in"> 
                                                    <label class="form-check-label question__label" for="q_4_in">India</label>
                                                </div>
                                            </div>
                                            <div class="form-check ps-0 q-box">
                                                <div class="q-box__question">
                                                    <input class="form-check-input question__input" id="q_4_eu" name="q_4" type="checkbox" value="eu"> 
                                                    <label class="form-check-label question__label" for="q_4_eu">Europe</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-12">
                                            <div class="form-check ps-0 q-box">
                                                <div class="q-box__question">
                                                    <input class="form-check-input question__input" id="q_4_none" name="q_4" type="checkbox" value="none"> 
                                                    <label class="form-check-label question__label" for="q_4_none">I did not travelled to any of these countries</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="step">
                                    <h4>Are you experiencing any of these serious symptoms of COVID-19 below?</h4>
                                    <div class="row">
                                        <div class="form-check ps-0 q-box">
                                            <div class="q-box__question">
                                                <input class="form-check-input question__input" id="q_5_breathing" name="q_5_breathing" type="checkbox" value="breathing"> 
                                                <label class="form-check-label question__label" for="q_5_breathing">Difficulty breathing or shortness of breath</label>
                                            </div>
                                        </div>
                                        <div class="form-check ps-0 q-box">
                                            <div class="q-box__question">
                                                <input class="form-check-input question__input" id="q_5_chest" name="q_5_chest" type="checkbox" value="chest pain"> 
                                                <label class="form-check-label question__label" for="q_5_chest">Chest pain or pressure</label>
                                            </div>
                                        </div>
                                        <div class="form-check ps-0 q-box">
                                            <div class="q-box__question">
                                                <input class="form-check-input question__input" id="q_5_speech" name="q_5_speech" type="checkbox" value="speech problem"> 
                                                <label class="form-check-label question__label" for="q_5_speech">Loss of speech or movement</label>
                                            </div>
                                        </div>
                                        <div class="form-check ps-0 q-box">
                                            <div class="q-box__question">
                                                <input class="form-check-input question__input" id="q_5_pale" name="q_5_pale" type="checkbox" value="pale"> 
                                                <label class="form-check-label question__label" for="q_5_pale">Pale, gray or blue-colored skin, lips or nail beds</label>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                                
                                <!-- Event Thumbnail -->
                                <div class="step">
                                    <div class="sub-form-wrapper active p-sm-4 rounded-4 mt-3 ">
                                        <h5>Upload an image as your thumbnail</h5>
                                        <div class="form-display active upload-cover">
                                            <img class="icon-img" src="../../assets/img/icon/plus.png" alt="">
                                        </div>
                                        <div class="main-form active upload-img-form">
                                            <div class="d-flex align-items-center mb-3">
                                                <!-- <img class="tip-icon" src="../../assets/img/icon/bulb.png" alt=""> -->
                                                <i class="fa-regular fa-lightbulb me-2 text-brand"></i>
                                                <p class="p-0 m-0"><span class="fw-medium">Tip:</span> Use photo that attracts
                                                    viewers.</p>
                                            </div>
                                            <div class="upload-section d-flex align-items-center rounded-3 justify-content-center p-5 flex-column"
                                                id="thumbnail-upload-section">
                                                <i id="imgIcon" class="fa-regular fa-image fs-1 text-secondary pb-3"></i>
                                                <label id="imgInputBtn" for="fileUpload" class="btn-outline-pink d-flex align-items-center"><i
                                                        class="fa-regular fa-image fs-5 text-secondary me-1"></i> Upload
                                                    Image</label>
                                                <input class="d-none" id="fileUpload" accept=".jpg, .jpeg" type="file"></input>
                                                <div class="d-flex">
                                                    <p id="fileName" class="text-secondary pt-3">No file chosen</p>
                                                    <button id="btnRemoveImgFile" type="button"
                                                        class="ms-1 text-secondary bg-transparent border-0 fs-5 ">
                                                        <i class="fa-solid fa-circle-xmark"></i></button>
                                                </div>
                                                <img id="imageDisplay" src="" class="" style="max-width: 400px; width: 100%;" alt="img preview">
        
                                            </div>
                                            <div class="img-format pt-3 w-100">
                                                <ul type="circle" class="d-flex flex-column flex-sm-row justify-content-evenly ">
                                                    <li>Recommended image size: 2160 x 1080px</li>
                                                    <li>Maximum file size: 10MB</li>
                                                    <li>Supported image files: .JPEG, .PNG</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Event Overview -->
                                <div class="step">
                                    <div class="sub-form-wrapper active p-sm-4 rounded-4 mt-3 ">
                                        
                                        <div class="main-form active">
                                            <h5 class="">Event Overview</h5>
                                            <div class="d-flex align-items-center mb-3">
                                                <!-- <img class="tip-icon" src="../../assets/img/icon/bulb.png" alt=""> -->
                                                <i class="fa-regular fa-lightbulb me-2 text-brand"></i>
                                                <p class="p-0 m-0"><span class="fw-medium">Tip:</span> Give an attractive brief paragraph about your event.</p>
                                            </div>
                                            <!-- <p>Give an attractive brief paragraph about your event.</p> -->
                                            <div class>
                                                <label for
                                                    class="form-label fw-medium mb-2">Event Title</label>
                                                <div class="input-field input-field-setting border-2"
                                                    id="input-field-title">
                                                    <i class="fa-regular fa-pen-to-square"></i>
                                                    <input type="text" placeholder="Event Title"
                                                        id="title" class=""
                                                        autofocus value="hfsjgdjksb" />
                                                    
                                                </div>
                                                <div
                                                    class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100"
                                                    id="invalid_feedback_title">
                                                    <i
                                                        class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                                                    <div class="ms-2 ">Invalid email.</div>
                                                </div>
                                            </div>
                                            <div class="mb-4 mt-2 w-100">
                                                <div class="">
                                                    <label for
                                                    class="form-label fw-medium mb-2 d-block">Event Type</label>
                                                    <div id="input-container">
                                                        <input class="form-check-input" name="event_type" type="radio" id="inPerson" value="2"> 
                                                        <label class="form-check-label radio-lb">In Person</label> 
                                                        <input class="form-check-input" name="event_type" type="radio" id="online" value="1"> 
                                                        <label class="form-check-label radio-lb">Online</label> 
                                                    </div>
                                                </div>
                                            </div>
        
                                            <div class="w-100">
                                                <div class="">
                                                    <label for
                                                    class="form-label fw-medium mb-2">Event Categories</label>
 <select class="tom-selected" id="select-category" name="state[]" multiple placeholder="Choose Categories" autocomplete="off">
                                                            <!-- <option value="">Select a state...</option> -->
                                                            <option value="1">entertainment</option>
                                                            <option value="2" selected>music</option>
                                                        </select>
                                                        <div
                                                        class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100"
                                                        id="invalid_feedback_event_categories">
                                                        <i
                                                            class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                                                        <div class="ms-2 ">Invalid email.</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="onlineMessage" class="text-brand mt-2 d-none">
                                        <i class="fa-solid fa-circle-info"></i> &nbsp;Event Link will be required when date is comming.
                                    </div>
                                </div>
                                <!--  -->
                                <div class="step">
                                    <div class="sub-form-wrapper active p-sm-4 rounded-4 mt-3 ">
                                        
                                        <div class="main-form active">
                                            <h4 class="mb-3" id="stepEventDateLocation">Event Date and Location</h4>
                                            <div class="row gx-4 gy-1">
                                                <div class="col-md-12 col-lg-12 col-xxl-8">
                                                    <div class="row gx-4 gy-1">
                                                        <div class="col-md-6 col-lg-7 col-xxl-8">
                                                            <label for class="form-label fw-medium mb-2">Start Date</label>
                                                            <div class="input-field input-field-setting border-2" id="input-field-started-date">
                                                                <i class="fa-regular fa-pen-to-square"></i>
                                                                <input type="date" id="started-date" class="" value="2025-02-11" />
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6 col-lg-5 col-xxl-4">
                                                            <label for class="form-label fw-medium mb-2">Start Time</label>
                                                            <div class="input-field input-field-setting border-2" id="input-field-start-time">
                                                                <i class="fa-regular fa-pen-to-square"></i>
                                                                <input type="time" id="start-time" class="" value="10:00" />
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6 col-lg-7 col-xxl-8">
                                                            <label for class="form-label fw-medium mb-2">End Date</label>
                                                            <div class="input-field input-field-setting border-2" id="input-field-ended-date">
                                                                <i class="fa-regular fa-pen-to-square"></i>
                                                                <input type="date" id="ended-date" class="" value="2025-02-12" />
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6 col-lg-5 col-xxl-4">
                                                            <label for class="form-label fw-medium mb-2">End Time</label>
                                                            <div class="input-field input-field-setting border-2" id="input-field-end-time">
                                                                <i class="fa-regular fa-pen-to-square"></i>
                                                                <input type="time" id="end-time" class="" value="18:00" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="row">

                                                <div class="col-md-12" id="block-location">
                                                    <label for
                                                        class="form-label fw-medium mb-2">Location</label>
                                                    <div class="input-field input-field-setting border-2"
                                                        id="input-field-location">
                                                        <i class="fa-regular fa-pen-to-square"></i>
                                                        <input type="text" placeholder="Street 2002, PP"
                                                            id="location" class=""
                                                            autofocus value="sdckjnjkxb" />
                                                    </div>
                                                    <div
                                                        class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100"
                                                        id="invalid_feedback_location">
                                                        <i
                                                            class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                                                        <div class="ms-2 ">Invalid email.</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="step">
                                    <div class="sub-form-wrapper active p-sm-4 rounded-4 mt-3 ">
                                        
                                        <div class="main-form active">
                                            <h4 class="mb-0">Event Description</h4>
                                            <div class="d-flex align-items-center mb-4">
                                                <!-- <img class="tip-icon" src="../../assets/img/icon/bulb.png" alt=""> -->
                                                <i class="fa-regular fa-lightbulb me-2 text-brand"></i>
                                                <p class="p-0 m-0"><span class="fw-medium">Tip:</span> Give a short attractive and full detail description about your event.</p>
                                            </div>
                                            <div class="col-md-12">
                                                <label for
                                                    class="form-label fw-medium mb-2">Short Description</label>
                                                <div class="input-field input-field-setting border-2"
                                                    id="input-field-short-description">
                                                    <i class="fa-regular fa-pen-to-square"></i>
                                                    <input type="text" placeholder="Short Description"
                                                        id="short-description" class=""
                                                        autofocus />
                                                </div>
                                                <div
                                                    class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100"
                                                    id="invalid_feedback_short_description">
                                                    <i
                                                        class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                                                    <div class="ms-2 ">Invalid email.</div>
                                                </div>
                                            </div>
                                            <div class="">
                                                <label for
                                                    class="form-label fw-medium mb-2 mt-2">Description Detail</label>
                                            
                                                <div class="description mb-3 overflow-hidden" id="input-field-description" style="border: 1px solid var(--c-brand);border-radius: 8px;">
                                                    <div id="editor" class="bg-white" style="min-height: 150px;"></div>
                                                </div>
                                                <div
                                                    class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100"
                                                    id="invalid_feedback_description">
                                                    <i
                                                        class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                                                    <div class="ms-2 ">Invalid email.</div>
                                                </div>
                                            </div>
                                            
                                            
                                        </div>
                                    </div>
                                </div>
                                <div class="step">
                                    <div class="sub-form-wrapper active p-sm-4 rounded-4 mt-3 ">
                                        <div class="main-form active">
                                            <h4 class="mb-0">Event Agenda</h4>
                                            <div class="d-flex align-items-center mb-4">
                                                <!-- <img class="tip-icon" src="../../assets/img/icon/bulb.png" alt=""> -->
                                                <i class="fa-regular fa-lightbulb me-2 text-brand"></i>
                                                <p class="p-0 m-0"><span class="fw-medium">Tip:</span> Give agendas about your event.</p>
                                            </div>
                                            <div class="description my-3 ">
                                                <!-- <div id="agendaEditor"></div> -->
                                                <div id="agenda-wrapper">
                                                    
                                                </div>
                                                <button type="button" class="btn btn-outline-brand fw-medium d-flex align-items-center" onclick="createNewAgenda()"><i
                                                        class="fa-solid fa-plus"></i>&nbsp; Add a new agenda</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="skipAgendaMessage" class="text-brand mt-2">
                                        <i class="fa-solid fa-circle-info"></i> &nbsp;Don't have an agenda yet? You can skip this step and add it later!
                                    </div>
                                    
                                            
                                </div>
                                <div class="step">
                                    <div class="sub-form-wrapper active p-sm-4 rounded-4 mt-3">
                                        <div class="main-form active">
                                            <h4 class="mb-0">Ticket Categories</h4>
                                            <div class="d-flex align-items-center mb-4">
                                                <i class="fa-regular fa-lightbulb me-2 text-brand"></i>
                                                <p class="p-0 m-0"><span class="fw-medium">Tip:</span> Set up tickets information and define ticket categories for your event.</p>
                                            </div>
                                
                                            <!-- Default Ticket Category -->
                                            <div id="default-ticket">
                                                <h5 class="fw-semibold text-brand mb-3">General Admission</h5>
                                                <div class="row gx-4 gy-0">
                                                    <div class="d-none">
                                                        <label class="form-label fw-medium mb-2">Name</label>
                                                        <div class="input-field input-field-setting mb-3" id="input-field-defaultTicketCategoryName">
                                                            <i class="fa-regular fa-pen-to-square"></i>
                                                            <input type="hidden" value="General Admission" id="defaultTicketCategoryName" placeholder="e.g. VIP, Normal">
                                                        </div>
                                                        <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_defaultTicketCategoryName">
                                                            <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                                                            <div class="ms-2 ">Invalid email.</div>
                                                        </div>
                                                    </div>
                                                    <div class="col-4">
                                                        <label class="form-label fw-medium mb-2">Price</label>
                                                        <div class="input-field input-field-setting border-2" id="input-field-defaultTicketPrice">
                                                            <i class="fa-solid fa-dollar-sign"></i>
                                                            <input type="number" id="defaultTicketPrice" placeholder="Enter price">
                                                        </div>
                                                        <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_defaultTicketPrice">
                                                            <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                                                            <div class="ms-2 ">Invalid email.</div>
                                                        </div>
                                                        
                                                    </div>
                                                    <div class="col-4">
                                                        <label class="form-label fw-medium mb-2">Capacity</label>
                                                        <div class="input-field input-field-setting border-2" id="input-field-defaultTicketCapacity">
                                                            <i class="fa-solid fa-ticket"></i>
                                                            <input type="number" id="defaultTicketCapacity" placeholder="Enter capacity">
                                                        </div>
                                                        <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_defaultTicketCapacity">
                                                            <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                                                            <div class="ms-2 ">Invalid email.</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                
                                            <!-- Button to Toggle Between Default and Custom Ticket Categories -->
                                            <button id="toggle-ticket-btn" class="btn btn-outline-brand fw-medium mt-3">
                                                <i class="fa-solid fa-plus"></i>&nbsp; Create Your Own Ticket Categories
                                            </button>
                                
                                            <!-- Custom Ticket Categories Section -->
                                            <div id="custom-ticket-section" style="display: none;">
                                                <div id="ticket-wrapper"></div>
                                
                                                <!-- Button to Add More Custom Ticket Categories -->
                                                <button type="button" class="btn btn-outline-brand fw-medium" onclick="createNewTicketCategory()">
                                                    <i class="fa-solid fa-plus"></i> &nbsp; Add a New Ticket Category
                                                </button>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <div id="skipTicketMessage" class="text-brand mt-2 d-none">
                                        <i class="fa-solid fa-circle-info"></i> &nbsp;No ticket is needed for this online event. You can continue to the next step!
                                    </div>
                                </div>
                                <div class="step" id="step-payment">
                                    <div class="sub-form-wrapper active p-sm-4 rounded-4 mt-3 ">
                                        <h5>Payment Method</h5>
                                        <div class="form-display active upload-cover">
                                            <img class="icon-img" src="../../assets/img/icon/plus.png" alt="">
                                        </div>
                                        <div class="main-form active upload-img-form">
                                            <div class="d-flex align-items-center mb-3">
                                                <!-- <img class="tip-icon" src="../../assets/img/icon/bulb.png" alt=""> -->
                                                <i class="fa-regular fa-lightbulb me-2 text-brand"></i>
                                                <p class="p-0 m-0"><span class="fw-medium">Tip:</span> Give a KHQR image for your payment method.</p>
                                            </div>
                                            <div class="upload-section d-flex align-items-center rounded-3 justify-content-center p-5 flex-column"
                                            id="khqr-upload-section">
                                                <i id="khqrPhotoIcon" class="fa-regular fa-image fs-1 text-secondary pb-3"></i>
                                                <label id="khqrPhotoInputBtn" for="khqrPhotoUpload" class="btn-outline-pink d-flex align-items-center"><i
                                                        class="fa-regular fa-image fs-5 text-secondary me-1"></i> Upload
                                                    Image</label>
                                                <input class="d-none" id="khqrPhotoUpload" accept=".jpg, .jpeg" type="file"></input>
                                                <div class="d-flex">
                                                    <p id="KhqrPhotoName" class="text-secondary pt-3">No file chosen</p>
                                                    <button id="btnRemoveKhqrImg" type="button"
                                                        class="ms-1 text-secondary bg-transparent border-0 fs-5 ">
                                                        <i class="fa-solid fa-circle-xmark"></i></button>
                                                </div>
                                                <img id="KhqrPhotoDisplay" src="" class="" style="max-width: 400px; width: 100%;" alt="img preview">
        
                                            </div>
                                            <div class="img-format pt-3 w-100">
                                                <ul type="circle" class="d-flex flex-column flex-sm-row justify-content-evenly ">
                                                    <li>Recommended image size: 2160 x 1080px</li>
                                                    <li>Maximum file size: 10MB</li>
                                                    <li>Supported image files: .JPEG, .PNG</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="skipKhqrMessage" class="text-brand mt-2 d-none">
                                        <i class="fa-solid fa-circle-info"></i> &nbsp;No QR payment needed for free entry. You can proceed to the next step!
                                    </div>
                                </div>
                                <!-- Event Publish -->
                                <div class="step">
                                    <div class="sub-form-wrapper active p-sm-4 rounded-4 mt-3 ">
                                        
                                        <div class="main-form active">
                                            <h5 class="">Publish Events</h5>
                                            
                                            <div class="d-flex align-items-center mb-3">
                                                <!-- <img class="tip-icon" src="../../assets/img/icon/bulb.png" alt=""> -->
                                                <i class="fa-regular fa-lightbulb me-2 text-brand"></i>
                                                <p class="p-0 m-0"><span class="fw-medium">Tip:</span> Publish your event in public or private.</p>
                                            </div>
                                            <p class="fw-medium">Is your event public or private?</p>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="publishStatus" id="publicOption">
                                                <label class="form-check-label" for="publicOption">
                                                    <span class="fw-medium">Public</span><br>
                                                    <small class="text-muted">Shared on Pruttika and search engines</small>
                                                </label>
                                            </div>
                                        
                                            <div class="form-check mt-2">
                                                <input class="form-check-input" type="radio" name="publishStatus" id="privateOption" checked>
                                                <label class="form-check-label" for="privateOption">
                                                    <span class="fw-medium">Private</span><br>
                                                    <small class="text-muted">Shared with event link to select audience</small>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="mt-1">
                                        <div class="closing-text">
                                            <h4>You're all set!</h4>
                                            <p>Youâ€™ve successfully completed all the steps to create your event.</p>
                                            <p>Click the submit button to finalize and publish your event.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="success">
                                    <div class="mt-5">
                                        <h4>Success! We'll get back to you ASAP!</h4>
                                        <p>Meanwhile, clean your hands often, use soap and water, or an alcohol-based hand rub, maintain a safe distance from anyone who is coughing or sneezing and always wear a mask when physical distancing is not possible.</p>
                                        <a class="back-link" href="bootstrap5form.html">Go back from the beginning &#10140;</a>
                                    </div>
                                </div>
                            </div>
                            <div id="q-box__buttons" class="d-flex align-items-center justify-content-center" style="margin-top: 40px;">
                                <button id="prev-btn" type="button" class="me-2">Previous</button> 
                                <button id="next-btn" type="button">Next</button> 
                                <button id="submit-btn" type="submit">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- TITLE -->
                <!-- <div class="col-lg-4 offset-lg-1 mx-0 px-0 d-none d-lg-block">
                    <div id="title-container">
                        <img class="covid-image" src="/img/login.png">
                        <h2>Pruttika</h2>
                        <h3>Meet up with your friend.</h3>
                        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem, vitae iste enim eos neque odio voluptates nemo incidunt accusamus nobis impedit quaerat natus! Asperiores blanditiis molestias sapiente quia, sint consequuntur!</p>
                    </div>
                </div> -->
            </div>
        </div><!-- PRELOADER -->
        <div id="preloader-wrapper">
            <div id="preloader">
                <div class="showbox">
                    <div class="loader">
                      <svg class="circular" viewBox="25 25 50 50">
                        <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>
                      </svg>
                    </div>
                  </div>
                
            </div>
            <div class="preloader-section section-left"></div>
            <div class="preloader-section section-right"></div>
        </div>
      </main>
      
      
      <!--For icons: https://fonts.google.com/icons-->

      <!--For icons: https://fonts.google.com/icons-->
    
    <div id="preloader-wrapper">
        <div id="preloader"></div>
        <div class="preloader-section section-left"></div>
        <div class="preloader-section section-right"></div>
    </div>
    <%- include("../../partials/script.ejs") %>
    <script>
        let ticketCount = 0;
const ticketWrapper = document.getElementById("ticket-wrapper");
const toggleTicketBtn = document.getElementById("toggle-ticket-btn");
const customTicketSection = document.getElementById("custom-ticket-section");
const defaultTicket = document.getElementById("default-ticket");

// Function to toggle between default and custom ticket sections
toggleTicketBtn.addEventListener("click", function () {
    if (customTicketSection.style.display === "none" || customTicketSection.style.display === "") {
        // Switch to Custom Ticket Category Mode
        defaultTicket.style.display = "none";
        customTicketSection.style.display = "block";
        toggleTicketBtn.innerHTML = `<i class="fa-solid fa-arrow-left"></i>&nbsp; Back to Default Ticket Category`;

        // Add the first custom ticket category automatically
        if (ticketCount === 0) createNewTicketCategory();
    } else {
        // Switch Back to Default Ticket Category Mode
        customTicketSection.style.display = "none";
        defaultTicket.style.display = "block";
        toggleTicketBtn.innerHTML = `<i class="fa-solid fa-plus"></i>&nbsp; Create Your Own Ticket Categories`;

        // Remove all custom ticket categories
        ticketWrapper.innerHTML = "";
        ticketCount = 0;
    }
});


function createNewTicketCategory() {
    ticketCount++;
    let ticketContainer = document.createElement("div");
    ticketContainer.className = "ticket-container mb-4";
    ticketContainer.id = `ticket${ticketCount}`;

    ticketContainer.innerHTML = `
        <div class="d-flex align-items-center justify-content-between mb-3 mt-4">
            <h5 class="fw-semibold text-brand mb-0">Ticket Category ${ticketCount}</h5>
            <button class="btn btn-danger" onclick="deleteTicketCategory('ticket${ticketCount}')">
                <i class="fa-solid fa-trash"></i>
            </button>
        </div>
        <div class="">
            <label class="form-label fw-medium mb-2">Name</label>
            <div class="input-field input-field-setting mb-3" id="input-field-ticketCategoryName${ticketCount}">
                <i class="fa-regular fa-pen-to-square"></i>
                <input type="text" id="ticketCategoryName${ticketCount}" placeholder="e.g. VIP, Normal">
            </div>
            <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_ticketCategoryName${ticketCount}">
                <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                <div class="ms-2 ">Invalid email.</div>
            </div>
        </div>
        <div class="">
            <label class="form-label fw-medium mb-2">Price</label>
            <div class="input-field input-field-setting mb-3" id="input-field-ticketPrice${ticketCount}">
                <i class="fa-solid fa-dollar-sign"></i>
                <input type="number" id="ticketPrice${ticketCount}" placeholder="Enter price ($)">
            </div> 
            <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_ticketPrice${ticketCount}">
                <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                <div class="ms-2 ">Invalid email.</div>
            </div>
        </div>
        <div class="">
            <label class="form-label fw-medium mb-2">Capacity</label>
            <div class="input-field input-field-setting mb-3" id="input-field-ticketCapacity${ticketCount}">
                <i class="fa-solid fa-ticket"></i>
                <input type="number" id="ticketCapacity${ticketCount}" placeholder="Enter ticket capacity">
            </div>
            <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_ticketCapacity${ticketCount}">
                <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                <div class="ms-2 ">Invalid email.</div>
            </div>
        </div>
    `;

    ticketWrapper.appendChild(ticketContainer);
}

// Function to delete a ticket category
function deleteTicketCategory(ticketId) {
    let ticketToRemove = document.getElementById(ticketId);
    if (ticketToRemove) {
        ticketToRemove.remove();



        // If all custom tickets are removed, revert to Default Ticket Category mode
        if (document.querySelectorAll(".ticket-container").length == 0) {
            toggleTicketBtn.innerHTML = `<i class="fa-solid fa-plus"></i> Create Your Own Ticket Categories`;
            customTicketSection.style.display = "none";
            defaultTicket.style.display = "block";
            ticketCount = 0;
        }else{
            ticketCount = document.querySelectorAll(".ticket-container").length

            document.querySelectorAll(".ticket-container").forEach((ticket, i)=> {
                let id = ticket.id.replace("ticket", "");
            let title = document.getElementById(`ticketCategoryName${id}`).value;
            let price = document.getElementById(`ticketPrice${id}`).value;
            let capacity = document.getElementById(`ticketCapacity${id}`).value;

            ticket.id = `ticket${i+1}`;

            ticket.innerHTML = `
            <div class="d-flex align-items-center justify-content-between mb-3 mt-4">
            <h5 class="fw-semibold text-brand mb-0">Ticket Category ${i+1}</h5>
            <button class="btn btn-danger" onclick="deleteTicketCategory('ticket${i+1}')">
                <i class="fa-solid fa-trash"></i>
            </button>
        </div>
        <div class="">
            <label class="form-label fw-medium mb-2">Name</label>
            <div class="input-field input-field-setting mb-3" id="input-field-ticketCategoryName${i+1}">
                <i class="fa-regular fa-pen-to-square"></i>
                <input type="text" id="ticketCategoryName${i+1}" value="${title}" placeholder="e.g. VIP, Normal">
            </div>
            <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_ticketCategoryName${i+1}">
                <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                <div class="ms-2 ">Invalid email.</div>
            </div>
        </div>
        <div class="">
            <label class="form-label fw-medium mb-2">Price</label>
            <div class="input-field input-field-setting mb-3" id="input-field-ticketPrice${i+1}">
                <i class="fa-solid fa-dollar-sign"></i>
                <input type="number" id="ticketPrice${i+1}" value="${price}" placeholder="Enter price ($)">
            </div> 
            <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_ticketPrice${i+1}">
                <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                <div class="ms-2 ">Invalid email.</div>
            </div>
        </div>
        <div class="">
            <label class="form-label fw-medium mb-2">Capacity</label>
            <div class="input-field input-field-setting mb-3" id="input-field-ticketCapacity${i+1}">
                <i class="fa-solid fa-ticket"></i>
                <input type="number" id="ticketCapacity${i+1}" value="${capacity}" placeholder="Enter ticket capacity">
            </div>
            <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_ticketCapacity${i+1}">
                <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                <div class="ms-2 ">Invalid email.</div>
            </div>
        </div>
            `
            })
        }
    }
}


    </script>
    <script src="/js/events/update-event.js">
    </script>
    
    <script>
let agendaIdCounter = 0;  // Keep track of the current agenda count
const agendaWrapper = document.getElementById("agenda-wrapper");

function createNewAgenda() {
    if(!(document.getElementById('skipAgendaMessage').classList.contains("d-none"))){
        document.getElementById('skipAgendaMessage').classList.add('d-none')
    }
    agendaIdCounter += 1;  // Increment the counter to get a unique agenda ID

    let agendaContainer = document.createElement("div");
    agendaContainer.className = "agenda-container mb-4";
    agendaContainer.id = `agenda${agendaIdCounter}`;  // Use the current counter for the ID

    agendaContainer.innerHTML = `
        <div class="d-flex align-items-center justify-content-between mb-3 mt-4">
            <h5 class="fw-semibold text-brand mb-0">Agenda ${agendaIdCounter}</h5>
            <button class="btn btn-danger" style="height:auto !important;" onclick="deleteAgenda('agenda${agendaIdCounter}')"><i class="fa-solid fa-trash"></i></button>
        </div>
        <div class="">
            <label for class="form-label fw-medium mb-2">Title</label>
            <div class="input-field input-field-setting agenda mb-3" id="input-field-agenda-title-${agendaIdCounter}">
                <i class="fa-regular fa-pen-to-square"></i>
                <input type="text" id="agendaTitle${agendaIdCounter}" placeholder="Title">
            </div>
            <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_agendaTitle${agendaIdCounter}">
                <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                <div class="ms-2 ">Invalid email.</div>
            </div>
        </div>
        <div class="">
            <label for class="form-label fw-medium mb-2">Description</label>
            <div class="input-field input-field-setting agenda mb-3" id="input-field-agenda-desc-${agendaIdCounter}">
                <i class="fa-regular fa-pen-to-square"></i>
                <input type="text" id="agendaDesc${agendaIdCounter}" placeholder="Description">
            </div>
            <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_agendaDesc${agendaIdCounter}">
                <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                <div class="ms-2 ">Invalid email.</div>
            </div>
        </div>
        <div class="row gx-4 gy-0">
            <div class="col-6 col-lg-4 col-xxl-3">
                <label for class="form-label fw-medium mb-2">Start Time</label>
                <div class="input-field input-field-setting border-2" id="input-field-agenda-start-time-${agendaIdCounter}">
                    <i class="fa-regular fa-pen-to-square"></i>
                    <input type="time" id="agendaStarttime${agendaIdCounter}" class="" autofocus />
                </div>
                <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_agendaStarttime${agendaIdCounter}">
                    <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                    <div class="ms-2 ">Invalid email.</div>
                </div>
            </div>
            <div class="col-6 col-lg-4 col-xl-3">
                <label for class="form-label fw-medium mb-2">End Time</label>
                <div class="input-field input-field-setting border-2" id="input-field-agenda-end-time-${agendaIdCounter}">
                    <i class="fa-regular fa-pen-to-square fw-light"></i>
                    <input type="time" id="agendaEndtime${agendaIdCounter}" class="" autofocus />
                </div>
                <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_agendaEndtime${agendaIdCounter}">
                    <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                    <div class="ms-2 ">Invalid email.</div>
                </div>
            </div>
        </div>
    `;
    
    agendaWrapper.appendChild(agendaContainer);
}

function deleteAgenda(agendaId) {
    let agendaToRemove = document.getElementById(agendaId);
    if (agendaToRemove) {
        agendaToRemove.remove();
    }

    // After deleting all agendas, reset the agendaIdCounter to the last maximum agenda number
    if (document.querySelectorAll(".agenda-container").length === 0) {
        agendaIdCounter = 0;  // Reset to start fresh
        if(document.getElementById('skipAgendaMessage').classList.contains("d-none")){
            document.getElementById('skipAgendaMessage').classList.remove('d-none')
        }
    }else{
        agendaIdCounter = document.querySelectorAll(".agenda-container").length
         document.querySelectorAll(".agenda-container").forEach((agenda, i)=>{
            let id = agenda.id.replace("agenda", "");
            let title = document.getElementById(`agendaTitle${id}`).value;
            let description = document.getElementById(`agendaDesc${id}`).value;
            let startTime = document.getElementById(`agendaStarttime${id}`).value;
            let endTime = document.getElementById(`agendaEndtime${id}`).value;

            agenda.id = `agenda${i+1}`
            agenda.innerHTML = `
            <div class="d-flex align-items-center justify-content-between mb-3 mt-4">
            <h5 class="fw-semibold text-brand mb-0">Agenda ${i+1}</h5>
            <button class="btn btn-danger" style="height:auto !important;" onclick="deleteAgenda('agenda${i+1}')"><i class="fa-solid fa-trash"></i></button>
        </div>
        <div class="">
            <label for class="form-label fw-medium mb-2">Title</label>
            <div class="input-field input-field-setting agenda mb-3" id="input-field-agenda-title-${i+1}">
                <i class="fa-regular fa-pen-to-square"></i>
                <input type="text" id="agendaTitle${i+1}" value="${title}" placeholder="Title">
            </div>
            <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_agendaTitle${i+1}">
                <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                <div class="ms-2 ">Invalid email.</div>
            </div>
        </div>
        <div class="">
            <label for class="form-label fw-medium mb-2">Description</label>
            <div class="input-field input-field-setting agenda mb-3" id="input-field-agenda-desc-${i+1}">
                <i class="fa-regular fa-pen-to-square"></i>
                <input type="text" id="agendaDesc${i+1}" value="${description}" placeholder="Description">
            </div>
            <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_agendaDesc${i+1}">
                <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                <div class="ms-2 ">Invalid email.</div>
            </div>
        </div>
        <div class="row gx-4 gy-0">
            <div class="col-6 col-lg-4 col-xxl-3">
                <label for class="form-label fw-medium mb-2">Start Time</label>
                <div class="input-field input-field-setting border-2" id="input-field-agenda-start-time-${i+1}">
                    <i class="fa-regular fa-pen-to-square"></i>
                    <input type="time" id="agendaStarttime${i+1}" value="${startTime}" class="" autofocus />
                </div>
                <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_agendaStarttime${i+1}">
                    <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                    <div class="ms-2 ">Invalid email.</div>
                </div>
            </div>
            <div class="col-6 col-lg-4 col-xl-3">
                <label for class="form-label fw-medium mb-2">End Time</label>
                <div class="input-field input-field-setting border-2" id="input-field-agenda-end-time-${i+1}">
                    <i class="fa-regular fa-pen-to-square fw-light"></i>
                    <input type="time" id="agendaEndtime${i+1}" value="${endTime}" class="" autofocus />
                </div>
                <div class="invalid_feedback text-danger d-flex align-items-center mb-2 w-100" id="invalid_feedback_agendaEndtime${i+1}">
                    <i class="bi bi-exclamation-triangle-fill d-flex align-items-center"></i>
                    <div class="ms-2 ">Invalid email.</div>
                </div>
            </div>
        </div>
            `;
            // console.log(i);
            
         })
    }
}


function getAgendaData() {
    let agendas = [];
    let isValid = true;

    document.querySelectorAll(".agenda-container").forEach(agenda => {
        let id = agenda.id.replace("agenda", "");
        let title = document.getElementById(`agendaTitle${id}`).value.trim();
        let desc = document.getElementById(`agendaDesc${id}`).value.trim();
        let startTime = document.getElementById(`agendaStarttime${id}`).value;
        let endTime = document.getElementById(`agendaEndtime${id}`).value;

        // Clear previous errors
        document.getElementById(`invalid_feedback_agendaTitle${id}`).style.display = "none";
        document.getElementById(`invalid_feedback_agendaDesc${id}`).style.display = "none";
        document.getElementById(`invalid_feedback_agendaStarttime${id}`).style.display = "none";
        document.getElementById(`invalid_feedback_agendaEndtime${id}`).style.display = "none";

        // Validate fields
        if (!title) {
            document.getElementById(`invalid_feedback_agendaTitle${id}`).style.display = "flex";
            isValid = false;
        }
        if (!desc) {
            document.getElementById(`invalid_feedback_agendaDesc${id}`).style.display = "flex";
            isValid = false;
        }
        if (!startTime) {
            document.getElementById(`invalid_feedback_agendaStarttime${id}`).style.display = "flex";
            isValid = false;
        }
        if (!endTime) {
            document.getElementById(`invalid_feedback_agendaEndtime${id}`).style.display = "flex";
            isValid = false;
        }

        if (isValid) {
            agendas.push({ id, title, desc, startTime, endTime });
        }
    });

    return isValid ? agendas : null;
}


function saveAgendaToAPI() {
    let agendas = getAgendaData();
    if (!agendas) {
        console.error("Validation failed. Please fill in all required fields.");
        return;
    }

    fetch("/api/agenda", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ agendas })
    })
    .then(response => response.json())
    .then(data => console.log("Agenda saved successfully:", data))
    .catch(error => console.error("Error saving agenda:", error));
}

function updateAgenda(id, updatedData) {
    fetch(`/api/agenda/${id}`, {
        method: "PUT",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(updatedData)
    })
    .then(response => response.json())
    .then(data => console.log("Agenda updated successfully:", data))
    .catch(error => console.error("Error updating agenda:", error));
}

function deleteAgendaFromAPI(id) {
    fetch(`/api/agenda/${id}`, {
        method: "DELETE"
    })
    .then(response => response.json())
    .then(data => console.log("Agenda deleted successfully:", data))
    .catch(error => console.error("Error deleting agenda:", error));
}

function fetchAgendasFromAPI() {
    fetch("/api/agenda")
    .then(response => response.json())
    .then(data => console.log("Fetched Agendas:", data))
    .catch(error => console.error("Error fetching agenda:", error));
}

    </script>
    <script>
        new TomSelect("#select-category",{
	maxItems: 3
});
//         new TomSelect("#select-type",{
// 	maxItems: 1
// });
        const toggleButton = document.getElementById("toggle-btn");
const sidebar = document.getElementById("sidebar");

function toggleSidebar() {
  sidebar.classList.toggle("close");
  toggleButton.classList.toggle("rotate");

  closeAllSubMenus();
}

function toggleSubMenu(button) {
  if (!button.nextElementSibling.classList.contains("show")) {
    closeAllSubMenus();
  }

  button.nextElementSibling.classList.toggle("show");
  button.classList.toggle("rotate");

  if (sidebar.classList.contains("close")) {
    sidebar.classList.toggle("close");
    toggleButton.classList.toggle("rotate");
  }
}

function closeAllSubMenus() {
  Array.from(sidebar.getElementsByClassName("show")).forEach((ul) => {
    ul.classList.remove("show");
    ul.previousElementSibling.classList.remove("rotate");
  });
}

// Upload File in create event
let fileInput = document.getElementById('fileUpload');
let fileNameDisplay = document.getElementById('fileName');
let btnRemoveImgFile = document.getElementById('btnRemoveImgFile');
let imageDisplay = document.getElementById('imageDisplay');

// Update the file name display when a file is selected
fileInput.addEventListener('change', function () {
    if (fileInput.files.length > 0) {
        fileNameDisplay.textContent = fileInput.files[0].name;

        let reader = new FileReader();
        reader.onload = function (event) {
            imageDisplay.src = event.target.result; // Set the image source
            imageDisplay.style.display = 'block';   // Display the image
        }
        reader.readAsDataURL(fileInput.files[0]); // Read the file as a data URL

    }
    document.getElementById('imgInputBtn').style.display = 'none';
    document.getElementById('imgIcon').style.display = 'none';
    btnRemoveImgFile.style.display = 'block';
});

btnRemoveImgFile.addEventListener('click', function () {
    fileInput.value = '';
    imageDisplay.src ='';
    imageDisplay.style.display = 'none';
    fileNameDisplay.textContent = 'No file chosen';
    btnRemoveImgFile.style.display = 'none';
    document.getElementById('imgInputBtn').style.display = 'block';
    document.getElementById('imgIcon').style.display = 'block';
});

btnRemoveImgFile.click();

// style input ts 
document.querySelectorAll(".ts-wrapper").forEach(input=>{
    input.classList.add("input-field", "input-field-setting", "d-flex" , "align-items-center");
    input.id = "input-field-event-categories"
})
document.querySelectorAll(".ts-wrapper .ts-control").forEach(input=>{
    input.classList.add("border-0")
})

document.querySelector(".ts-wrapper .ts-control").classList.add("border-0");

// console.log(document.getElementById("select-category").selectedOptions);

const parent = document.querySelectorAll(".ts-wrapper.input-field"); // Get the parent element
    console.log(parent)
    // if (!parent) return; // Ensure the parent exists
 parent.forEach(p=>{
     const newNode = document.createElement("i"); // Create a new element
     newNode.classList.add("fa-solid", "fa-list")
     newNode.style.marginBottom = "2px";
 
     // Insert the new node as the first child
     p.insertBefore(newNode, p.firstChild);
 })

// --------------------------------------------------------

// Upload photo in create event in description section 
let khqrPhotoUpload = document.getElementById('khqrPhotoUpload');
let KhqrPhotoName = document.getElementById('KhqrPhotoName');
let btnRemoveKhqrImg = document.getElementById('btnRemoveKhqrImg');
let KhqrPhotoDisplay = document.getElementById('KhqrPhotoDisplay');


btnRemoveKhqrImg.style.display = 'none';
KhqrPhotoDisplay.style.display = 'none';
// Upload photo in create event in Ticket section (Khqr)
khqrPhotoUpload.addEventListener('change', function () {
    if (khqrPhotoUpload.files.length > 0) {
        KhqrPhotoName.textContent = khqrPhotoUpload.files[0].name;

        let reader = new FileReader();
        reader.onload = function (event) {
            KhqrPhotoDisplay.src = event.target.result; // Set the image source
            KhqrPhotoDisplay.style.display = 'block';   // Display the image
        }
        reader.readAsDataURL(khqrPhotoUpload.files[0]); // Read the file as a data UR-L
        isSkipStepPayment = true;
    }else{
        isSkipStepPayment = false;
    }
    document.getElementById('khqrPhotoInputBtn').style.display = 'none';
    document.getElementById('khqrPhotoIcon').style.display = 'none';
    btnRemoveKhqrImg.style.display = 'block';
});

function removeImageFile() {
    khqrPhotoUpload.value = ''; // Clear the file input
    KhqrPhotoName.textContent = 'No file chosen';
}

btnRemoveKhqrImg.addEventListener('click', function () {
    khqrPhotoUpload.value = '';
    KhqrPhotoDisplay.src = "";
    KhqrPhotoDisplay.style.display = 'none';
    KhqrPhotoName.textContent = 'No file chosen';
    btnRemoveKhqrImg.style.display = 'none';
    document.getElementById('khqrPhotoInputBtn').style.display = 'block';
    document.getElementById('khqrPhotoIcon').style.display = 'block';
});
btnRemoveKhqrImg.click();
// Example usage:


    </script>
</body>
</html>
